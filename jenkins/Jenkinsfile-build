library('private-pipeline-library')
library('jenkins-shared')

mavenSnapshotPipeline(usePublicSettingsXmlFile: true,
        javaVersion: 'JDK8u45',
        deployCondition: { return env.BRANCH_NAME == 'master' || env.BRANCH_NAME.startsWith('release-') },
        onSuccess: { build, env ->
            notifyChat(env: env, currentBuild: build, room: 'nxrm-notifications')
        },
        onFailure: { build, env ->
            notifyChat(env: env, currentBuild: build, room: 'nxrm-notifications')
        }
)
